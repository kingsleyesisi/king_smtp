# Dovecot Authentication Configuration
# This file configures how Dovecot authenticates users for SMTP

# ============================================================================
# AUTHENTICATION MECHANISMS
# ============================================================================

# Enable PLAIN and LOGIN authentication
# PLAIN: Standard authentication (secure over TLS)
# LOGIN: Legacy authentication (for older clients)
auth_mechanisms = plain login

# ============================================================================
# DISABLE PLAINTEXT AUTH (Require TLS)
# ============================================================================

# Don't allow plaintext authentication without TLS
# This ensures passwords are always encrypted
disable_plaintext_auth = yes

# ============================================================================
# PASSWORD DATABASE
# ============================================================================

# Use passwd-file for simple authentication
# This is a simple file-based authentication system
# For production, consider using a proper database

passdb {
  driver = passwd-file
  args = /etc/dovecot/users
}

# ============================================================================
# USER DATABASE
# ============================================================================

# Static user database
# All users share the same UID/GID
userdb {
  driver = static
  args = uid=vmail gid=vmail home=/var/mail/vmail/%d/%n
}
